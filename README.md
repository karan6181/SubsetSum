# Implementation of Two-List algorithm for the Subset-Sum problem on a cluster parallel machine

#### <u>Members:</u>

1. Karan Jariwala(kkj1811@rit.edu)
2. Alimuddin Khan(aak5031@rit.edu)

------

#### <u>Overview of Subset problem:</u>

- Given a set of positive integers N and a sum S, does there exist a subset N’ ⊆ N such that sum of all the elements in that subset is S. 
- Example: Suppose we have a set N = { 7, 5, 1, 9, 6, 2} and we are looking for target sum 3 We can easily see that subset {1, 2} has the desired target sum.
- This is very easy to find when given set is small, but as size of set increases the problem size increases exponentially. A typical Naive implementation of subset sum problem has time complexity of O(2^n)
- The subset-sum problem is a well-known non-deterministic polynomial-time complete (NPcomplete) decision problem and it is also a special case of 0-1 Knapsack problem.

------

#### <u>Algorithm used:</u>

- We have used **_Two-List Algorithm_** to solve the subset sum problem efficiently.
- This is so far the best known algorithm to solve subset-sum problem.
- It reduces time complexity to O(2^(n/2)) from O(2^n).
- A typical Two-list Algorithm has 2 stages.
  - Generation stage
  - Search stage

#### <u>Sequential Approach:</u>

Implemented a sequential two-list algorithm which consists of Generation Stage and Search Stage. In Generation stage, input set N of size n is divided equally into sets N1 and N2 of size n/2. Produced all possible 2n/2 subset sums of the sets N1 and N2 and name those sets as L1 and L2 and then Sorted L1 into Ascending order and L2 into Descending order. In Search stage, Pick one element each from L1 and L2 and compare addition with target Sum S. If the addition is greater than S, then move one step ahead in L2 which is sorted in decreasing order. If addition is less than the sum, then move one step ahead in the List L1 which is sorted in increasing order. Keep repeating above two steps until we reach the end of the list or in between we find that sum which is equal to S.

#### <u>Parallel Approach:</u>

The parallel two-list algorithm is similar to the sequential approach but the two-list generation stage will not executed in parallel. Two list are generated in parallel on different threads. Sublists are further divided into K blocks each where K is equal to number of threads and block pairs are generated from both the lists taking one block from each list. Remove the redundant blocks depending on sum S to reduce the search dataset. We performed the standard linear search as mentioned in the sequential approach.

------

#### <u>Execution of program:</u>

###### STEP 1: Environment setup

- **Requirements:** Java 1.8 or higher and [Java PJ2 Library](https://www.cs.rit.edu/~ark/pj2.shtml). You can download Java PJ2 library from [here](https://www.cs.rit.edu/~ark/pj2.shtml#download).

- Make sure you have added PJ2 library to your classpath to execute your program.

- Use one of the following commands to set you classpath based on your Linux distribution.

  For Bash shell: 

  ```shell
  $ export CLASSPATH=.:<path-to-pj2-jar-file>/pj2.jar
  ```

  For csh shell:

  ```shell
  $ setenv CLASSPATH .:<path-to-pj2-jar-file>/pj2.jar
  ```

###### STEP 2: Compile the code

- Compile all source code using standard command as follows:

  ```shell
  javac *.java
  ```

###### STEP3: Running the program

- Run the sequential version of the program with the following command:

  ```powershell
  java pj2 SubsetSumSeq <N> <T> <seed> <R>
  ```


- Run the parallel version of the program with the following command:

  ```powershell
  Java pj2 cores=<K> SubsetSumSmp <N> <T> <seed> <R>
  ```

where,

| Parameter | Details                                  |
| :-------: | :--------------------------------------- |
|   <<K>>   | Number of cores                          |
|   <<N>>   | Number of elements in an input set       |
|    <T>    | Target Sum                               |
|  <seed>   | Random seed to generate pseudo random number |
|    <R>    | Range of the input numbers to be generated by pseudo random generator |

###### Source file description:

- **SubsetSumSeq.java:** Solves subset sum problem using sequential two list algorithm and provide Boolean result of whether there exist a subset or not.
- **SubsetSumSmp.java:** Solves subset sum problem using parallel two list algorithm and provide Boolean result of whether there exist a subset or not.
- **Functions.java:** It has utility functions used by both sequential and parallel programs
- **SubsetSumSeqDemo.java:** This program will give you detailed output such as a generated random set, two generated subset sums lists, Boolean result, etc.

------

#### <u>Sample Output:</u>

- **Example 1:**

  Running *SubSetSumSeqDemo.java* file:

  ```powershell
  java pj2 SubSetSumSeqDemo 10 123 123456 500
  ```

  Above command produces following output:

  ```shell
  Input Set: {   96   97  804  438  983  807  523  667  685  447 }

  First Half list: {   96   97  804  438  983 }
  Second Half list: 
  {  807  523  667  685  447 }

  Possible subset sum from list1: {0, 96, 97, 193, 438, 534, 535, 631, 804, 900, 901, 983, 997, 1079, 1080, 1176, 1242, 1338, 1339, 1421, 1435, 1517, 1518, 1614, 1787, 1883, 1884, 1980, 2225, 2321, 2322, 2418}
  Possible subset sum from list2: {0, 447, 523, 667, 685, 807, 970, 1114, 1132, 1190, 1208, 1254, 1330, 1352, 1474, 1492, 1637, 1655, 1777, 1799, 1875, 1921, 1939, 1997, 2015, 2159, 2322, 2444, 2462, 2606, 2682, 3129}

  Target sum: 123
  Is Target sum found? false
  ```


- **Example 2:**

  Running *SubSetSumSeq.java* file:

  ```powershell
  java pj2 SubSetSumSeq 10 123 123456 500
  ```

  Above command produces following output:

  ```shell
  false
  ```


- **Example 3:**

  Running SubSetSumSmp.java file:

  ```powershell
  java pj2 SubSetSumSmp 10 123 123456 500
  ```

  Above command produces following output:

  ```shell
  false
  ```

------

#### <u>Interacting with program:</u>

You can use various command line options along with pj2 library for debugging purpose

| Command        | Description                              |
| :------------- | ---------------------------------------- |
| debug=makespan | It print the time taken by the program to execute |
| cores=n        | Number of core to use                    |

**For Example:**

```powershell
java pj2 SubSetSumSmp debug=makespan cores=4 10 123 123456 500
```

------

#### <u>Strong scaling performance:</u>

Following graph shows the scaling performance of the parallel program

![Strong scaling](https://github.com/karan6181/SubsetSum/tree/master/src/img/img09.png)

Above diagram shows that as number of cores increases, the running time decreases linearly.

------

#### <u>Other Details:</u>

To read more about this project, please refer to the project [report](https://github.com/karan6181/SubsetSum/blob/master/src/SubsetSum-TeamParallel-Deliverables.pdf).
